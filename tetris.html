<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Qucik Tetris</title>
</head>
<body>

<script src="https://code.jquery.com/jquery-2.2.2.min.js" integrity="sha256-36cp2Co+/62rEAAYHLmRCPIych47CvdM+uTBJwSzWjI=" crossorigin="anonymous"></script>
<script type="text/javascript">

//GLOBALS
const $body = $("body");

const block = {
	size: 15,
	border: "black solid 1px",
	gridBorder: {
		backgroundColor: "black"
	}
}

const grid = {
	size: 40
}

//==TEMP==//
/*var tempInc = function(){
	var inc = -10;
	return function(){
		inc += 10;
		return inc;
	}
}

ti1 = tempInc();
ti2 = tempInc();*/
//==TEMP END==//

function mb(left = 0, top = 0, border = block.border){

	var blockSize = block.size + "px";

	return $("<div class='tetris-block'></div>").css({
		position: "absolute",
		width: blockSize,
		height: blockSize,
		left: left,
		top: top,
		border: border
	});
}

/*initPos = [widht, height]*/
/*widthHeight = 100 blocks*/
function makeGrid(initPos = [10,10], widthHeight = grid.size){

	var innerGrid = $("<div></div>");
	var blocks;

	var currentLeft = initPos[0];
	var currentTop = initPos[1];

	var blockSize = block.size;

	for(let i=0; i<widthHeight; i++){

		//reset left
		currentLeft = initPos[0];

		//increment top
		currentTop += blockSize;

		for(let j=0; j<widthHeight; j++){

			//increment left
			currentLeft += blockSize;	

			//append blocks to grid	
			innerGrid.append( mb(currentLeft, currentTop) );
		}
	}

	//get only blocks
	blocks = innerGrid.children();

	$body.append( blocks ); 
	
	//make borderUp
	blocks.slice(0, widthHeight).css( block.gridBorder );

	//make borderDown
	blocks.slice(-widthHeight).css( block.gridBorder );	

	//make borderLeft
	$( [].filter.call(blocks, function(e,i){return i%grid.size === 0}) ).css( block.gridBorder );

	//make borderRight	
	$( [].filter.call(blocks, function(e,i){return i%grid.size===grid.size-1}) ).css( block.gridBorder );
}

makeGrid();

</script>
</body>
</html>